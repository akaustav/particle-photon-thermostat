
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Home Thermostat</title>
<link rel="icon" type="image/png" href="https://dl.dropboxusercontent.com/u/11010549/icons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="https://dl.dropboxusercontent.com/u/11010549/icons/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="https://dl.dropboxusercontent.com/u/11010549/icons/android-chrome-192x192.png" sizes="192x192">
<link rel="icon" type="image/png" href="https://dl.dropboxusercontent.com/u/11010549/icons/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="https://dl.dropboxusercontent.com/u/11010549/icons/manifest.json">
<link rel="shortcut icon" href="https://dl.dropboxusercontent.com/u/11010549/icons/favicon.ico">
<meta name="theme-color" content="#ffffff">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<!-- <script src="spark.min.js"></script> -->

<script>
function getTemperature() {
return $.ajax({
    type: 'GET',
    url: 'https://api.particle.io/v1/devices/2f002c000647343339373536/currentTemp/',
    data: 'access_token=ad1447e50fbfb73658271b4352acd55d73589933',
    dataType: 'json',
    success: function(data) {
		// console.log(data);
        document.getElementById("curTempPlace").innerHTML = "Home Temperature set at " + data.result + " °F";
        }
    });
}

function getTime() {
return $.ajax({
    type: 'GET',
    url: 'https://api.particle.io/v1/devices/2f002c000647343339373536/Time/',
    data: 'access_token=ad1447e50fbfb73658271b4352acd55d73589933',
    dataType: 'json',
    success: function(data) {
		// console.log(data);
        document.getElementById("curTimePlace").innerHTML = "at " + data.result + " HRS";
        }
    });
}

function getData() {
	getTemperature();
	getTime();
}

function roomTemperature() {
return $.ajax({
    type: 'GET',
    url: 'https://api.particle.io/v1/devices/2f002c000647343339373536/Temperature/',
    data: 'access_token=ad1447e50fbfb73658271b4352acd55d73589933',
    dataType: 'json',
    success: function(data) {
        document.getElementById("roomTempPlace").innerHTML = "Room Temperature: " + data.result + " °F";
        }
    });
}

function setTemperature(inTemp) {
return $.ajax({
    type: 'POST',
    url: 'https://api.particle.io/v1/devices/2f002c000647343339373536/TempChange/',
    data: 'access_token=ad1447e50fbfb73658271b4352acd55d73589933&args='+inTemp,
    success: function(data) {
		// console.log(data);
        document.getElementById("changeTempPlace").innerHTML = "Changed by " + data.return_value + " °F";
        //getTemperature();
        }
    });
}

</script>

</head>

<body><center>
<h2>Control Panel</h2>
<!-- 
Current Temperature: <br>
<iframe id="testFrame" src="https://api.particle.io/v1/devices/2f002c000647343339373536/currentTemp?access_token=ad1447e50fbfb73658271b4352acd55d73589933" name="iframe_b"></iframe>
<br>
<button>Get it!</button> -->

<h3 id="curTempPlace">Home Temperature set at __ °F</h3>
<h3 id="curTimePlace">at ____ HRS</h3>
<script>
	getData();
</script>
<button type="button" onclick="getData()">Refresh</button>


<!-- 
<h3 id="roomTempPlace">Room Temperature: __ °F</h3>
<script>
roomTemperature();

</script>
<button type="button" onclick="roomTemperature()">Refresh</button>

<br> -->

<br>
<br>
<br>

<form>
<h3>
Set Home Temperature: 
<select id="Temperature">
<option value="68">68</option>
<option value="69">69</option>
<option value="70">70</option>
<option value="71">71</option>
<option value="72">72</option>
<option value="73">73</option>
<option value="74">74</option>
<option value="75">75</option>
<option value="76">76</option>
<option value="77">77</option>
<option value="78" selected>78</option>
<option value="79">79</option>
<option value="80">80</option>
<option value="81">81</option>
<option value="82">82</option>
</select>
 °F
</h3>
</form>

<!-- 
<form action="https://api.particle.io/v1/devices/2f002c000647343339373536/button_input?access_token=ad1447e50fbfb73658271b4352acd55d73589933" method="POST" target="iframe_a">
<select name="Temperature">
<option value="66">66</option>
<option value="67">67</option>
<option value="68">68</option>
<option value="69">69</option>
<option value="70">70</option>
<option value="71">71</option>
<option value="72">72</option>
<option value="73">73</option>
<option value="74">74</option>
<option value="75">75</option>
<option value="76" selected>76</option>
<option value="77">77</option>
<option value="78">78</option>
<option value="79">79</option>
<option value="80">80</option>
</select>
 °F
<br> <br>
<input type="submit" value="Set it!">
</form>
 
Thermostat Response: <br>
<iframe src="" name="iframe_a"></iframe>
<br>
-->

<script>
function sendTemp(){
    var temp = document.getElementById("Temperature").value;
    setTemperature(temp);
};

</script>
<button type="button" onclick="setTemperature(76)">Set 76</button>
&nbsp;
&nbsp;
&nbsp;
&nbsp;
<button type="button" onclick="sendTemp()">Set</button>
&nbsp;
&nbsp;
&nbsp;
&nbsp;
<button type="button" onclick="setTemperature(82)">Set 82</button>
<br>
<h3 id="changeTempPlace">Changed by __ °F</h3>

</center></body><span class="gr__tooltip"><span class="gr__tooltip-content"></span><i class="gr__tooltip-logo"></i><span class="gr__triangle"></span></span></html>
